webpackHotUpdate(0,{80:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(38),a=n.n(i),c=n(1);n(3);function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){return"/"===t.charAt(0)}function f(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}var l=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],o=e&&e.split("/")||[],i=t&&s(t),a=e&&s(e),c=i||a;if(t&&s(t)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var u=o[o.length-1];n="."===u||".."===u||""===u}else n=!1;for(var l=0,p=o.length;p>=0;p--){var d=o[p];"."===d?f(o,p):".."===d?(f(o,p),l++):l&&(f(o,p),l--)}if(!c)for(;l--;l)o.unshift("..");!c||""===o[0]||o[0]&&s(o[0])||o.unshift("");var h=o.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};var p=function(t,e){if(!t)throw new Error("Invariant failed")};function d(t){return"/"===t.charAt(0)?t:"/"+t}function h(t){return"/"===t.charAt(0)?t.substr(1):t}function y(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function v(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function m(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function b(t,e,n,r){var o;"string"==typeof t?(o=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(o=u({},t)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=l(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function g(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,o){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var w=!("undefined"==typeof window||!window.document||!window.document.createElement);function O(t,e){e(window.confirm(t))}function S(){try{return window.history.state||{}}catch(t){return{}}}function P(t){void 0===t&&(t={}),w||p(!1);var e,n=window.history,r=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t,a=i.forceRefresh,c=void 0!==a&&a,s=i.getUserConfirmation,f=void 0===s?O:s,l=i.keyLength,h=void 0===l?6:l,P=t.basename?v(d(t.basename)):"";function E(t){var e=t||{},n=e.key,r=e.state,o=window.location,i=o.pathname+o.search+o.hash;return P&&(i=y(i,P)),b(i,r,n)}function k(){return Math.random().toString(36).substr(2,h)}var j=g();function C(t){u(H,t),H.length=n.length,j.notifyListeners(H.location,H.action)}function x(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||T(E(t.state))}function R(){T(E(S()))}var _=!1;function T(t){if(_)_=!1,C();else{j.confirmTransitionTo(t,"POP",f,(function(e){e?C({action:"POP",location:t}):function(t){var e=H.location,n=D.indexOf(e.key);-1===n&&(n=0);var r=D.indexOf(t.key);-1===r&&(r=0);var o=n-r;o&&(_=!0,I(o))}(t)}))}}var A=E(S()),D=[A.key];function L(t){return P+m(t)}function I(t){n.go(t)}var M=0;function U(t){1===(M+=t)&&1===t?(window.addEventListener("popstate",x),o&&window.addEventListener("hashchange",R)):0===M&&(window.removeEventListener("popstate",x),o&&window.removeEventListener("hashchange",R))}var V=!1;var H={length:n.length,action:"POP",location:A,createHref:L,push:function(t,e){var o=b(t,e,k(),H.location);j.confirmTransitionTo(o,"PUSH",f,(function(t){if(t){var e=L(o),i=o.key,a=o.state;if(r)if(n.pushState({key:i,state:a},null,e),c)window.location.href=e;else{var u=D.indexOf(H.location.key),s=D.slice(0,u+1);s.push(o.key),D=s,C({action:"PUSH",location:o})}else window.location.href=e}}))},replace:function(t,e){var o=b(t,e,k(),H.location);j.confirmTransitionTo(o,"REPLACE",f,(function(t){if(t){var e=L(o),i=o.key,a=o.state;if(r)if(n.replaceState({key:i,state:a},null,e),c)window.location.replace(e);else{var u=D.indexOf(H.location.key);-1!==u&&(D[u]=o.key),C({action:"REPLACE",location:o})}else window.location.replace(e)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(t){void 0===t&&(t=!1);var e=j.setPrompt(t);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),e()}},listen:function(t){var e=j.appendListener(t);return U(1),function(){U(-1),e()}}};return H}var E={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+h(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h,decodePath:d},slash:{encodePath:d,decodePath:d}};function k(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function j(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function C(t){window.location.replace(k(window.location.href)+"#"+t)}function x(t){void 0===t&&(t={}),w||p(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,o=void 0===r?O:r,i=n.hashType,a=void 0===i?"slash":i,c=t.basename?v(d(t.basename)):"",s=E[a],f=s.encodePath,l=s.decodePath;function h(){var t=l(j());return c&&(t=y(t,c)),b(t)}var S=g();function P(t){u(H,t),H.length=e.length,S.notifyListeners(H.location,H.action)}var x=!1,R=null;function _(){var t,e,n=j(),r=f(n);if(n!==r)C(r);else{var i=h(),a=H.location;if(!x&&(e=i,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(R===m(i))return;R=null,function(t){if(x)x=!1,P();else{S.confirmTransitionTo(t,"POP",o,(function(e){e?P({action:"POP",location:t}):function(t){var e=H.location,n=L.lastIndexOf(m(e));-1===n&&(n=0);var r=L.lastIndexOf(m(t));-1===r&&(r=0);var o=n-r;o&&(x=!0,I(o))}(t)}))}}(i)}}var T=j(),A=f(T);T!==A&&C(A);var D=h(),L=[m(D)];function I(t){e.go(t)}var M=0;function U(t){1===(M+=t)&&1===t?window.addEventListener("hashchange",_):0===M&&window.removeEventListener("hashchange",_)}var V=!1;var H={length:e.length,action:"POP",location:D,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=k(window.location.href)),n+"#"+f(c+m(t))},push:function(t,e){var n=b(t,void 0,void 0,H.location);S.confirmTransitionTo(n,"PUSH",o,(function(t){if(t){var e=m(n),r=f(c+e);if(j()!==r){R=e,function(t){window.location.hash=t}(r);var o=L.lastIndexOf(m(H.location)),i=L.slice(0,o+1);i.push(e),L=i,P({action:"PUSH",location:n})}else P()}}))},replace:function(t,e){var n=b(t,void 0,void 0,H.location);S.confirmTransitionTo(n,"REPLACE",o,(function(t){if(t){var e=m(n),r=f(c+e);j()!==r&&(R=e,C(r));var o=L.indexOf(m(H.location));-1!==o&&(L[o]=e),P({action:"REPLACE",location:n})}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(t){void 0===t&&(t=!1);var e=S.setPrompt(t);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),e()}},listen:function(t){var e=S.appendListener(t);return U(1),function(){U(-1),e()}}};return H}function R(t,e,n){return Math.min(Math.max(t,e),n)}function _(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,o=void 0===r?["/"]:r,i=e.initialIndex,a=void 0===i?0:i,c=e.keyLength,s=void 0===c?6:c,f=g();function l(t){u(w,t),w.length=w.entries.length,f.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,s)}var d=R(a,0,o.length-1),h=o.map((function(t){return b(t,void 0,"string"==typeof t?p():t.key||p())})),y=m;function v(t){var e=R(w.index+t,0,w.entries.length-1),r=w.entries[e];f.confirmTransitionTo(r,"POP",n,(function(t){t?l({action:"POP",location:r,index:e}):l()}))}var w={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:y,push:function(t,e){var r=b(t,e,p(),w.location);f.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=w.index+1,n=w.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),l({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=b(t,e,p(),w.location);f.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(w.entries[w.index]=r,l({action:"REPLACE",location:r}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(t){var e=w.index+t;return e>=0&&e<w.entries.length},block:function(t){return void 0===t&&(t=!1),f.setPrompt(t)},listen:function(t){return f.appendListener(t)}};return w}var T=n(19),A=n(20),D=n.n(A);n(37);function L(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}n(40);var I=function(t){var e=Object(T.a)();return e.displayName=t,e}("Router-History"),M=function(t){var e=Object(T.a)();return e.displayName=t,e}("Router"),U=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(c.a)(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(M.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(I.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);o.a.Component;o.a.Component;var V={},H=0;function N(t,e){void 0===e&&(e={}),("string"==typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,c=void 0!==a&&a,u=n.sensitive,s=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=V[n]||(V[n]={});if(r[t])return r[t];var o=[],i={regexp:D()(t,o,e),keys:o};return H<1e4&&(r[t]=i,H++),i}(n,{end:i,strict:c,sensitive:s}),o=r.regexp,a=r.keys,u=o.exec(t);if(!u)return null;var f=u[0],l=u.slice(1),p=t===f;return i&&!p?null:{path:n,url:"/"===n&&""===f?"/":f,isExact:p,params:a.reduce((function(t,e,n){return t[e.name]=l[n],t}),{})}}),null)}var W=function(t){function e(){return t.apply(this,arguments)||this}return Object(c.a)(e,t),e.prototype.render=function(){var t=this;return o.a.createElement(M.Consumer,null,(function(e){e||p(!1);var n=t.props.location||e.location,r=u({},e,{location:n,match:t.props.computedMatch?t.props.computedMatch:t.props.path?N(n.pathname,t.props):e.match}),i=t.props,a=i.children,c=i.component,s=i.render;return Array.isArray(a)&&0===a.length&&(a=null),o.a.createElement(M.Provider,{value:r},r.match?a?"function"==typeof a?a(r):a:c?o.a.createElement(c,r):s?s(r):null:"function"==typeof a?a(r):null)}))},e}(o.a.Component);function F(t){return"/"===t.charAt(0)?t:"/"+t}function z(t,e){if(!t)return e;var n=F(t);return 0!==e.pathname.indexOf(n)?e:u({},e,{pathname:e.pathname.substr(n.length)})}function B(t){return"string"==typeof t?t:m(t)}function K(t){return function(){p(!1)}}function $(){}o.a.Component;o.a.Component;o.a.useContext;var q=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).history=P(e.props),e}return Object(c.a)(e,t),e.prototype.render=function(){return o.a.createElement(U,{history:this.history,children:this.props.children})},e}(o.a.Component);o.a.Component;var G=function(t,e){return"function"==typeof t?t(e):t},X=function(t,e){return"string"==typeof t?b(t,null,null,e):t},J=function(t){return t},Q=o.a.forwardRef;void 0===Q&&(Q=J);var Y=Q((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,a=L(t,["innerRef","navigate","onClick"]),c=a.target,s=u({},a,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),r())}});return s.ref=J!==Q&&e||n,o.a.createElement("a",s)}));var Z=Q((function(t,e){var n=t.component,r=void 0===n?Y:n,i=t.replace,a=t.to,c=t.innerRef,s=L(t,["component","replace","to","innerRef"]);return o.a.createElement(M.Consumer,null,(function(t){t||p(!1);var n=t.history,f=X(G(a,t.location),t.location),l=f?n.createHref(f):"",d=u({},s,{href:l,navigate:function(){var e=G(a,t.location);(i?n.replace:n.push)(e)}});return J!==Q?d.ref=e||c:d.innerRef=c,o.a.createElement(r,d)}))})),tt=function(t){return t},et=o.a.forwardRef;void 0===et&&(et=tt);et((function(t,e){var n=t["aria-current"],r=void 0===n?"page":n,i=t.activeClassName,a=void 0===i?"active":i,c=t.activeStyle,s=t.className,f=t.exact,l=t.isActive,d=t.location,h=t.sensitive,y=t.strict,v=t.style,m=t.to,b=t.innerRef,g=L(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(M.Consumer,null,(function(t){t||p(!1);var n=d||t.location,i=X(G(m,n),n),w=i.pathname,O=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),S=O?N(n.pathname,{path:O,exact:f,sensitive:h,strict:y}):null,P=!!(l?l(S,n):S),E=P?function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(s,a):s,k=P?u({},v,{},c):v,j=u({"aria-current":P&&r||null,className:E,style:k,to:i},g);return tt!==et?j.ref=e||b:j.innerRef=b,o.a.createElement(Z,j)}))}));var nt=n(39),rt=n.n(nt);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pt(t);if(e){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(a,t);var e,n,r,i=ft(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).state={},e}return e=a,(n=[{key:"componentDidMount",value:function(){this.props.videoStream&&(this.video.srcObject=this.props.videoStream)}},{key:"componentWillReceiveProps",value:function(t){console.log(t.videoStream),t.videoStream&&t.videoStream!==this.props.videoStream&&(this.video.srcObject=t.videoStream)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{style:at({},this.props.frameStyle)},o.a.createElement("video",{id:this.props.id,muted:this.props.muted,autoPlay:!0,style:at({},this.props.videoStyles),ref:function(e){t.video=e}}))}}])&&ut(e.prototype,n),r&&ut(e,r),a}(r.Component);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gt(t);if(e){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bt(this,n)}}function bt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(a,t);var e,n,r,i=mt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t)).state={rVideos:[],remoteStreams:[]},e}return e=a,(n=[{key:"componentWillReceiveProps",value:function(t){var e=this;if(this.props.remoteStreams!==t.remoteStreams){var n=t.remoteStreams.map((function(t,n){var r=o.a.createElement(dt,{videoStream:t.stream,frameStyle:{width:120,float:"left",padding:"0 3px"},videoStyles:{cursor:"pointer",objectFit:"cover",borderRadius:3,width:"100%"}});return o.a.createElement("div",{id:t.name,onClick:function(){return e.props.switchVideo(t)},style:{display:"inline-block"},key:n},r)}));this.setState({remoteStreams:t.remoteStreams,rVideos:n})}}},{key:"render",value:function(){return o.a.createElement("div",{style:{zIndex:3,position:"fixed",padding:"6px 3px",backgroundColor:"rgba(0,0,0,0.3)",maxHeight:120,top:"auto",right:10,left:10,bottom:10,overflowX:"scroll",whiteSpace:"nowrap"}},this.state.rVideos)}}])&&yt(e.prototype,n),r&&yt(e,r),a}(r.Component);function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function St(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tt(t);if(e){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?_t(t):e}function _t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(a,t);var e,n,r,i=xt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),At(_t(e=i.call(this,t)),"componentDidMount",(function(){e.socket=rt.a.connect(e.serviceIP,{path:"/io/webrtc",query:{}}),e.socket.on("connection-success",(function(t){e.getLocalStream(),console.log(t.success);var n=t.peerCount>1?"Total Connected Peers: ".concat(t.peerCount):"Waiting for other peers to connect";e.setState({status:n})})),e.socket.on("peer-disconnected",(function(t){console.log("peer-disconnected",t);var n=e.state.remoteStreams.filter((function(e){return e.id!==t.socketID}));e.setState((function(e){var r=e.selectedVideo.id===t.socketID&&n.length?{selectedVideo:n[0]}:null;return kt({remoteStreams:n},r)}))})),e.socket.on("online-peer",(function(t){console.log("connected peers ...",t),e.createPeerConnection(t,(function(n){n&&n.createOffer(e.state.sdpConstraints).then((function(r){n.setLocalDescription(r),e.sendToPeer("offer",r,{local:e.socket.id,remote:t})}))}))})),e.socket.on("offer",(function(t){e.createPeerConnection(t.socketID,(function(n){n.addStream(e.state.localStream),n.setRemoteDescription(new RTCSessionDescription(t.sdp)).then((function(){n.createAnswer(e.state.sdpConstraints).then((function(r){n.setLocalDescription(r),e.sendToPeer("answer",r,{local:e.socket.id,remote:t.socketID})}))}))}))})),e.socket.on("answer",(function(t){var n=e.state.peerConnections[t.socketID];console.log(t.sdp),n.setRemoteDescription(new RTCSessionDescription(t.sdp)).then((function(){}))})),e.socket.on("candidate",(function(t){var n=e.state.peerConnections[t.socketID];n&&n.addIceCandidate(new RTCIceCandidate(t.candidate))}))})),At(_t(e),"switchVideo",(function(t){console.log(t),e.setState({selectedVideo:t})})),At(_t(e),"sendToPeer",(function(t,n){e.socket.emit(t,{socketID:e.socket.id,payload:n})})),At(_t(e),"getLocalStream",(function(){navigator.mediaDevices.getUserMedia({video:!0,options:{mirror:!0}}).then((function(t){window.localStream=t,e.setState({localStream:t}),e.whoisOnline()})).catch((function(t){console.log("getUserMedia Error: ",t)}))})),At(_t(e),"whoisOnline",(function(){e.sendToPeer("onlinePeers",null,{local:e.socket.id})})),At(_t(e),"sendToPeer",(function(t,n,r){e.socket.emit(t,{socketID:r,payload:n})})),At(_t(e),"createPeerConnection",(function(t,n){try{var r=new RTCPeerConnection(e.state.pc_config),o=kt(kt({},e.state.peerConnections),{},At({},t,r));e.setState({peerConnections:o}),r.onicecandidate=function(n){n.candidate&&e.sendToPeer("candidate",n.candidate,{local:e.socket.id,remote:t})},r.ontrack=function(n){var r={id:t,name:t,stream:n.streams[0]};e.setState((function(t){var e=t.remoteStreams.length>0?{}:{remoteStream:n.streams[0]},o=t.remoteStreams.filter((function(e){return e.id===t.selectedVideo.id}));return kt(kt(kt({},o=o.length?{}:{selectedVideo:r}),e),{},{remoteStreams:[].concat(St(t.remoteStreams),[r])})}))},r.close=function(){console.log("this user is off")},e.state.localStream&&r.addStream(e.state.localStream),n(r)}catch(t){console.log("Something went wrong! pc not created!!",t),n(null)}})),e.state={localStream:null,remoteStream:null,remoteStreams:[],peerConnections:{},selectedVideo:null,status:"Please wait...",pc_config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]},sdpConstraints:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}}},e.serviceIP="https://363497cab7c2.ngrok.io",e.socket=null,e}return e=a,(n=[{key:"render",value:function(){console.log(this.state.localStream);var t=o.a.createElement("div",{style:{color:"yellow",padding:5}},this.state.status);return o.a.createElement("div",null,o.a.createElement(dt,{videoStyles:{zIndex:2,position:"absolute",right:0,width:200,height:200,margin:5,backgroundColor:"black"},videoStream:this.state.localStream,autoPlay:!0,muted:!0}),o.a.createElement(dt,{videoStyles:{zIndex:1,position:"fixed",bottom:0,minWidth:"100%",minHeight:"100%",backgroundColor:"black"},videoStream:this.state.selectedVideo&&this.state.selectedVideo.stream,autoPlay:!0}),o.a.createElement("br",null),o.a.createElement("div",{style:{zIndex:3,position:"absolute",margin:10,backgroundColor:"#cdc4ff4f",padding:10,borderRadius:5}},t),o.a.createElement("div",null,o.a.createElement(wt,{switchVideo:this.switchVideo,remoteStreams:this.state.remoteStreams})),o.a.createElement("br",null))}}])&&jt(e.prototype,n),r&&jt(e,r),a}(r.Component);n(74),n(75);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nt(t);if(e){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(a,t);var e,n,r,i=Vt(a);function a(){return It(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"COUNT"))}}])&&Mt(e.prototype,n),r&&Mt(e,r),a}(r.Component);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(a,t);var e,n,r,i=$t(a);function a(){return zt(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(W,{exact:!0,path:"/",component:Dt}),o.a.createElement(W,{path:"/count",component:Wt}))}}])&&Bt(e.prototype,n),r&&Bt(e,r),a}(r.Component);a.a.render(o.a.createElement(q,null,o.a.createElement(Xt,null)),document.getElementById("root"))}});